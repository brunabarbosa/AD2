install.packages("readr")
library(readr)
installed.packages("readr")
library(readr)
install.packages("readr")
library(readr)
library('readr')
library(readr)
statistics <- read_csv("~/Documents/Blackjack/evosuite-report/statistics.csv")
View(statistics)
setwd("/home/bruna/Documents/AD2/Lab4-Parte1/Predict movie ratings")
library(recommenderlab)
install.packages(c("recommenderlab", "reshape2", "ggplot2"))
library(recommenderlab)
library(reshape2)
library(ggplot2)
tr<-read.csv("train_v2.csv",header=TRUE)
View(tr)
summary(tr)
tr <- head(tr, 1000)
View(tr)
head(tr)
tr<-tr[,-c(1)]
tr[tr$user==1,]
g<-acast(tr, user ~ movie)
class(g)
View(tr)
R<-as.matrix(g)
View(R)
r <- as(R, "realRatingMatrix")
r
as(r, "list")     # A list
as(r, "matrix")   # A sparse matrix
head(as(r, "data.frame"))
g<-acast(tr, user ~ movie)
g
View(g)
summary(g)
r_m <- normalize(r)
r_m
as(r_m, "list")
image(r, main = "Raw Ratings")
image(r_m, main = "Normalized Ratings")
r_b <- binarize(r, minRating=1)
as(r_b, "matrix")
rec=Recommender(r[1:nrow(r)],method="UBCF", param=list(normalize = "Z-score",method="Cosine",nn=5))
print(rec)
names(getModel(rec))
getModel(rec)$nn
recom <- predict(rec, r[1:nrow(r)], type="ratings")
recom
View(as(recom, "matrix"))
as(recom, "list")
as(r, "matrix")     # Has lots of NAs. 'r' is the original matrix
as(recom, "matrix") # Is full of ratings. NAs disappear
as(recom, "matrix")[,1:10] # Show ratings for all users for items 1 to 10
as(recom, "matrix")[5,3]   # Rating for user 5 for item at index 3
as.integer(as(recom, "matrix")[5,3]) # Just get the integer value
as.integer(round(as(recom, "matrix")[10,8])) # Just get the correct integer value
as.integer(round(as(recom, "matrix")[10,99]))
rec_list<-as(recom,"list")
head(summary(rec_list))
rec_list[[2]][2]
u1<-as.data.frame(rec_list[[1]])
attributes(u1)
class(u1)
print g
print (g)
View(g)
setwd("~/Documents/AD2/Lab4-Parte1/Predict movie ratings")
setwd("~/Documents/AD2/Lab4-Parte1")
library(readr)
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
View(lab4_part1_train_data)
library(readr)
lab4_part1_test_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_test_data.csv")
View(lab4_part1_test_data)
library(readr)
lab4_part1_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_data.csv")
View(lab4_part1_data)
library(readr)
lab4_part1_data_v2 <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_data_v2.csv")
View(lab4_part1_data_v2)
View(lab4_part1_train_data)
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
lab4_part1_test_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_test_data.csv")
View(lab4_part1_train_data)
summary(lab4_part1_train_data)
train <- lab4_part1_train_data
train <- train[,-c(1)]
View(train)
setwd("/home/bruna/Documents/AD2/Lab4-Parte1/Predict movie ratings")
tr<-read.csv("train_v2.csv",header=TRUE)
tr <- head(tr, 1000)
head(tr)
setwd("~/Documents/AD2/Lab4-Parte1")
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
lab4_part1_test_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_test_data.csv")
train <- lab4_part1_train_data
View(train)
g<-acast(train, train$MAT_NOVA_MATRICULA ~ train$NOME_DISCIPLINA)
g<-acast(train, MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
lab4_part1_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_data.csv")
View(lab4_part1_data)
summary(train)
unique(lab4_part1_data$MAT_NOVA_MATRICULA)
unique(train$MAT_NOVA_MATRICULA)
View(lab4_part1_test_data)
lab4_part1_data_v2 <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_data_v2.csv")
View(lab4_part1_data_v2)
View(lab4_part1_test_data)
View(train)
unique(train)
unique(train$MAT_NOVA_MATRICULA)
unique(lab4_part1_data)
unique(lab4_part1_data$MAT_NOVA_MATRICULA)
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
graduados.model.input <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
library(dplyr)
graduados.model.input <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
View(graduados.model.input)
graduados.model.input <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
View(lab4_part1_data)
View(train)
test <- lab4_part1_test_data
test.dcast <- test %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
test <- lab4_part1_test_data
train <- lab4_part1_train_data
test <- lab4_part1_test_data
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
View(train.dcast)
library(readr)
library(dplyr)
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
lab4_part1_test_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_test_data.csv")
library(recommenderlab)
library(reshape2)
library(ggplot2)
train <- lab4_part1_train_data
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
View(train.dcast)
summary(train.dcast)
test.dcast <- test %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
test <- lab4_part1_test_data
test.dcast <- test %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
View(test.dcast)
R<-as.matrix(train)
View(R)
R<-as.matrix(train.dcast)
View(R)
r <- as(R, "realRatingMatrix")
r
setwd("/home/bruna/Documents/AD2/Lab4-Parte1/Predict movie ratings")
library(recommenderlab)
library(reshape2)
library(ggplot2)
tr<-read.csv("train_v2.csv",header=TRUE)
tr <- head(tr, 1000)
head(tr)
tr<-tr[,-c(1)]
tr[tr$user==1,]
g<-acast(tr, user ~ movie)
View(g)
R<-as.matrix(g)
r <- as(R, "realRatingMatrix")
r
View(R)
setwd("~/Documents/AD2/Lab4-Parte1")
library(readr)
library(dplyr)
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
lab4_part1_test_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_test_data.csv")
library(recommenderlab)
library(reshape2)
library(ggplot2)
train <- lab4_part1_train_data
test <- lab4_part1_test_data
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
test.dcast <- test %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
R<-as.matrix(train.dcast)
r <- as(R, "realRatingMatrix")
setwd("/home/bruna/Documents/AD2/Lab4-Parte1/Predict movie ratings")
library(recommenderlab)
library(reshape2)
library(ggplot2)
tr<-read.csv("train_v2.csv",header=TRUE)
tr <- head(tr, 1000)
head(tr)
tr<-tr[,-c(1)]
tr[tr$user==1,]
g<-acast(tr, user ~ movie)
View(tr)
tr<-read.csv("train_v2.csv",header=TRUE)
View(tr)
tr <- head(tr, 1000)
head(tr)
tr<-tr[,-c(1)]
tr[tr$user==1,]
View(tr)
View(R)
g<-acast(tr, user ~ movie)
class(g)
R<-as.matrix(g)
class(R)
View(R)
View(g)
g<-acast(tr, MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
g<-acast(train, MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA)
g<-acast(train, MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, value.var='MAT_MEDIA_FINAL')
r <- as(R[,-c(1)], "realRatingMatrix")
r
R<-as.matrix(train.dcast[,-c(1)])
View(R)
as(r, "list")     # A list
a <- as(r, "list")     # A list
as(r, "list")     # A list
as(r, "matrix")   # A sparse matrix
head(as(r, "data.frame"))
setwd("~/Documents/AD2/Lab4-Parte1")
library(readr)
setwd("~/Documents/AD2/Lab4-Parte1")
library(readr)
library(dplyr)
lab4_part1_train_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_train_data.csv")
lab4_part1_test_data <- read_csv("~/Documents/AD2/Lab4-Parte1/lab4_part1_test_data.csv")
library(recommenderlab)
library(reshape2)
library(ggplot2)
train <- lab4_part1_train_data
test <- lab4_part1_test_data
train.dcast <- train %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
test.dcast <- test %>%
group_by(MAT_NOVA_MATRICULA,NOME_DISCIPLINA)  %>%
filter(MAT_MEDIA_FINAL == max(MAT_MEDIA_FINAL)) %>%
ungroup() %>%
select(MAT_NOVA_MATRICULA,NOME_DISCIPLINA,MAT_MEDIA_FINAL) %>%
mutate(NOME_DISCIPLINA = as.factor(gsub(" ",".",NOME_DISCIPLINA))) %>%
dcast(MAT_NOVA_MATRICULA ~ NOME_DISCIPLINA, mean)
R<-as.matrix(train.dcast[,-c(1)])
r <- as(R[,-c(1)], "realRatingMatrix")
r
as(r, "list")     # A list
as(r, "matrix")   # A sparse matrix
head(as(r, "data.frame"))
r_m <- normalize(r)
r_m
as(r_m, "list")
image(r, main = "Raw Ratings")
image(r_m, main = "Normalized Ratings")
r_b <- binarize(r, minRating=1)
as(r_b, "matrix")
rec=Recommender(r[1:nrow(r)],method="UBCF", param=list(normalize = "Z-score",method="Cosine",nn=5))
print(rec)
names(getModel(rec))
getModel(rec)$nn
recom <- predict(rec, r[1:nrow(r)], type="ratings")
recom
View(as(recom, "matrix"))
pre <- predict(rec, test, type="ratings")
pre <- predict(rec, r[101:102], type="ratings")
pre
as(pre, "matrix")[,1:10]
View(test.dcast)
